<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Web94</title>
<style>
/* 基本 */
body, html {
  margin:0; padding:0;
  width:100%; height:100%;
  font-family:"Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  overflow:hidden;
  background:#008080;
}

/* 共通 */
.hidden { display:none; }

/* ブート画面 */
#boot {
  width:100%; height:100%;
  background:#000;
  color:#0f0;
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  font-family:monospace;
}
#boot h1 { font-size:3em; margin-bottom:30px; }
#boot-log { margin-bottom:20px; }
#progress { width:50%; height:20px; border:2px solid #0f0; position:relative; }
#progress-bar { height:100%; width:0; background:#0f0; }

/* ログイン画面 */
#login {
  width:100%; height:100%;
  display:flex; justify-content:center; align-items:center;
  background:#008080;
  flex-direction:column;
}
#login-box {
  background: rgba(255,255,255,0.9);
  padding:20px; border-radius:10px;
  display:flex; flex-direction:column;
  align-items:center;
}
#login-box input {
  margin:5px 0; padding:5px; width:200px;
}
#login-box button {
  margin-top:10px; padding:5px;
  cursor:pointer;
}

/* デスクトップ */
#desktop {
  width:100%; height:100%;
  position:relative;
  display:none;
  background:#008080;
}

/* タスクバー */
#taskbar {
  position:absolute; bottom:0; left:0;
  width:100%; height:40px;
  background:#333;
  color:white;
  display:flex; align-items:center;
}
#start-button {
  width:80px; height:100%;
  background:#555; border:none; color:white;
  cursor:pointer;
}

/* ウィンドウ */
.window {
  position:absolute;
  width:300px; height:200px;
  background:#ddd; border:2px solid #555;
  box-shadow:2px 2px 10px rgba(0,0,0,0.5);
  display:none; flex-direction:column;
  animation: fadeIn 0.3s;
}
@keyframes fadeIn { from {opacity:0} to {opacity:1} }

.window-header {
  background:#555; color:white; padding:5px;
  cursor:move; display:flex; justify-content:space-between;
}
.window-body { flex:1; padding:10px; }

/* デスクトップアイコン */
.icon {
  width:60px; height:60px;
  text-align:center; color:white;
  cursor:pointer; margin:10px;
  display:flex; flex-direction:column; align-items:center;
  justify-content:center;
}
.icon img { width:40px; height:40px; margin-bottom:5px; }
</style>
</head>
<body>

<!-- ブート画面 -->
<div id="boot">
  <h1>Web94</h1>
  <div id="boot-log">Initializing...</div>
  <div id="progress"><div id="progress-bar"></div></div>
  <audio id="boot-sound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
</div>

<!-- ログイン画面 -->
<div id="login" class="hidden">
  <div id="login-box">
    <h2>ログイン</h2>
    <input type="text" id="username" placeholder="ユーザー名">
    <input type="password" id="password" placeholder="パスワード">
    <button onclick="login()">ログイン</button>
    <p id="error" style="color:red; display:none;">ユーザー名かパスワードが違います</p>
    <audio id="login-sound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
  </div>
</div>

<!-- デスクトップ -->
<div id="desktop">
  <div id="taskbar">
    <button id="start-button">Web94</button>
  </div>

  <!-- デスクトップアイコン -->
  <div class="icon" id="icon-notepad" style="position:absolute;top:50px;left:50px;">
    <img src="https://img.icons8.com/ios-filled/50/ffffff/notepad.png"/>
    <span>メモ帳</span>
  </div>

  <!-- メモ帳ウィンドウ -->
  <div class="window" id="myWindow">
    <div class="window-header">
      メモ帳 <button onclick="closeWindow('myWindow')">✖</button>
    </div>
    <div class="window-body">
      <textarea style="width:100%;height:100%;"></textarea>
    </div>
  </div>
</div>

<script>
// 固定ログイン
const USER='user';
const PASS='1234';

// ブート画面アニメーション
const boot = document.getElementById('boot');
const progressBar = document.getElementById('progress-bar');
const bootLog = document.getElementById('boot-log');
const bootSound = document.getElementById('boot-sound');

let progress=0;
bootSound.play();
let bootInterval=setInterval(()=>{
  progress+=2;
  progressBar.style.width = progress+'%';
  bootLog.textContent = `Booting Web94... ${progress}%`;
  if(progress>=100){
    clearInterval(bootInterval);
    boot.classList.add('hidden');
    document.getElementById('login').classList.remove('hidden');
  }
},50);

// ログイン処理
function login(){
  const u=document.getElementById('username').value;
  const p=document.getElementById('password').value;
  const loginSound=document.getElementById('login-sound');
  if(u===USER && p===PASS){
    loginSound.play();
    document.getElementById('login').classList.add('hidden');
    document.getElementById('desktop').style.display='block';
  } else {
    document.getElementById('error').style.display='block';
  }
}

// デスクトップ機能
const startButton = document.getElementById('start-button');
const myWindow = document.getElementById('myWindow');

function openWindow(id){ 
  const w = document.getElementById(id);
  w.style.display='flex';
  w.style.left='50px';
  w.style.top='50px';
}
function closeWindow(id){ document.getElementById(id).style.display='none'; }

// スタートボタン
startButton.addEventListener('click', ()=>openWindow('myWindow'));

// アイコンクリック
document.getElementById('icon-notepad').addEventListener('dblclick', ()=>openWindow('myWindow'));

// ウィンドウドラッグ
let dragTarget=null, offsetX=0, offsetY=0;
document.querySelectorAll('.window-header').forEach(header=>{
  header.addEventListener('mousedown', e=>{
    dragTarget=header.parentElement;
    offsetX=e.clientX-dragTarget.offsetLeft;
    offsetY=e.clientY-dragTarget.offsetTop;
  });
});
document.addEventListener('mousemove', e=>{
  if(dragTarget){
    dragTarget.style.left = e.clientX-offsetX+'px';
    dragTarget.style.top = e.clientY-offsetY+'px';
  }
});
document.addEventListener('mouseup', ()=>dragTarget=null);
</script>

</body>
</html>
